<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=5"><![endif]-->
<!DOCTYPE html>
<html>
<head>
  <title>Flowchart Maker &amp; Online Diagram Software</title>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="msapplication-config" content="images/browserconfig.xml">
  <meta name="mobile-web-app-capable" content="yes">
  <script type="text/javascript">

    /**
     * URL Parameters and protocol description are here:
     *
     *
     * Parameters for developers:
     *
     * - dev=1: For developers only
     * - test=1: For developers only
     * - export=URL for export: For developers only
     * - ignoremime=1: For developers only (see DriveClient.js). Use Cmd-S to override mime.
     * - createindex=1: For developers only (see etc/build/README)
     * - filesupport=0: For developers only (see Editor.js in core)
     * - savesidebar=1: For developers only (see Sidebar.js)
     * - pages=1: For developers only (see Pages.js)
     * - lic=email: For developers only (see LicenseServlet.java)
     * --
     * - networkshapes=1: For testing network shapes (temporary)
     */
    var urlParams = (function () {
      var result = new Object();
      var params = window.location.search.slice(1).split('&');

      for (var i = 0; i < params.length; i++) {
        idx = params[i].indexOf('=');

        if (idx > 0) {
          result[params[i].substring(0, idx)] = params[i].substring(idx + 1);
        }
      }

      return result;
    })();

    // Forces CDN caches by passing URL parameters via URL hash
    if (window.location.hash != null && window.location.hash.substring(0, 2) == '#P') {
      try {
        urlParams = JSON.parse(decodeURIComponent(window.location.hash.substring(2)));

        if (urlParams.hash != null) {
          window.location.hash = urlParams.hash;
        }
      }
      catch (e) {
        // ignore
      }
    }

  </script>
  <link rel="stylesheet" type="text/css" href="js/croppie/croppie.min.css">
  <link rel="stylesheet" type="text/css" href="styles/grapheditor.css">
  <!-- import Vue before Element -->
  <script src="js/other/vue.js"></script>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="element-ui/element.css">
  <!-- 引入组件库 -->
  <script src="element-ui/element.js"></script>
  <link rel="stylesheet" href="css/proj.css">
  <link rel="stylesheet" href="css/my-proj.css">
  <script src="js/myProj/utils.js"></script>
  <script src="js/myProj/nodeAttributes.js"></script>

  <!-- Workaround for binary XHR in IE 9/10, see App.loadUrl -->
  <!--[if (IE 9)|(IE 10)]><!-->
  <script type="text/vbscript">
			Function mxUtilsBinaryToArray(Binary)
				Dim i
				ReDim byteArray(LenB(Binary))
				For i = 1 To LenB(Binary)
					byteArray(i-1) = AscB(MidB(Binary, i, 1))
				Next
				mxUtilsBinaryToArray = byteArray
			End Function


  </script>
  <!--<![endif]-->
  <script type="text/javascript">
    /**
     * Synchronously adds scripts to the page.
     */
    function mxscript(src, onLoad, id, dataAppKey, noWrite) {
      if (onLoad != null || noWrite) {
        var s = document.createElement('script');
        s.setAttribute('type', 'text/javascript');
        s.setAttribute('src', src);
        var r = false;

        if (id != null) {
          s.setAttribute('id', id);
        }

        if (dataAppKey != null) {
          s.setAttribute('data-app-key', dataAppKey);
        }

        if (onLoad != null) {
          s.onload = s.onreadystatechange = function () {
            if (!r && (!this.readyState || this.readyState == 'complete')) {
              r = true;
              onLoad();
            }
          };
        }

        var t = document.getElementsByTagName('script')[0];

        if (t != null) {
          t.parentNode.insertBefore(s, t);
        }
      }
      else {
        document.write('<script src="' + src + '"' + ((id != null) ? ' id="' + id + '" ' : '') +
          ((dataAppKey != null) ? ' data-app-key="' + dataAppKey + '" ' : '') + '></scr' + 'ipt>');
      }
    };

    /**
     * Asynchronously adds scripts to the page.
     */
    function mxinclude(src) {
      var g = document.createElement('script');
      g.type = 'text/javascript';
      g.async = true;
      g.src = src;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(g, s);
    };

    // Checks for local storage
    var isLocalStorage = false;

    try {
      isLocalStorage = urlParams['local'] != '1' && typeof(localStorage) != 'undefined';
    }
    catch (e) {
      // ignored
    }

    // Changes paths for local development environment

    var mxDevUrl = document.location.origin + document.location.pathname.replace('index.html', '');

    var geBasePath = mxDevUrl + 'js/mxgraph/';
    var drawDevUrl = mxDevUrl;

    mxscript(drawDevUrl + 'js/PreConfig.js');
    mxscript(drawDevUrl + 'js/diagramly/Init.js');
    mxscript(geBasePath + '/Init.js');
    mxscript(mxDevUrl + '/js/mxgraph/mxClient.js');

    // Adds all JS code that depends on mxClient. This indirection via Devel.js is
    // required in some browsers to make sure mxClient.js (and the files that it
    // loads asynchronously) are available when the code loaded in Devel.js runs.
    mxscript(drawDevUrl + 'js/diagramly/Devel.js');
    mxscript(drawDevUrl + 'js/PostConfig.js')


    // Adds basic error handling
    window.onerror = function () {
      var status = document.getElementById('geStatus');

      if (status != null) {
        status.innerHTML = 'Page could not be loaded. Please try refreshing.';
      }
    };
  </script>

</head>
<body class="geEditor33">
<div id="geInfo">
  <div class="geBlock" style="text-align:center;min-width:50%;">
    <h1>Flowchart Maker and Online Diagram Software</h1>
    <p>
      <!--diagrams.net (formerly draw.io) is free online diagram software. You can use it as a flowchart maker, network-->
      <!--diagram software, to create UML online, as an ER diagram tool,-->
      <!--to design database schema, to build BPMN online, as a circuit diagram maker, and more. draw.io can import .vsdx,-->
      <!--Gliffy&trade; and Lucidchart&trade; files .-->
    </p>
    <h2 id="geStatus">Loading...</h2>
    <p>
      Please ensure JavaScript is enabled.
    </p>
  </div>
</div>
<div id="myMainContainer" class="myMainContainer"></div>
<script type="text/javascript">
  /**
   * Main
   */
    App.main();
</script>
</body>
<script>
  window.addEventListener('beforeunload', function () {
    // 清除所有的refs
    window.$refs = null;
  }, false);
  window.addEventListener('unload', function () {
    // 清除所有的refs
    window.$refs = null;
  }, false);
</script>
</html>
